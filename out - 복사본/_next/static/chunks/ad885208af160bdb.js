(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,68626,e=>{"use strict";function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e.s(["_",()=>t],99749),e.s(["AudioManager",()=>s],68626);class s{static getInstance(e){return s.instance||(s.instance=new s(e)),s.instance}playBGM(e){this.currentBGMKey&&this.currentBGMKey===e||(this.game.sound.play(e,{loop:!0,volume:this.muted?0:this.masterVolume*this.bgmVolume}),this.currentBGMKey=e)}playSFX(e){this.game.sound.play(e,{volume:this.muted?0:this.masterVolume*this.sfxVolume})}setMasterVolume(e){this.masterVolume=e,this.updateVolumes()}setBGMVolume(e){this.bgmVolume=e,this.updateVolumes()}setSFXVolume(e){this.sfxVolume=e}setMuted(e){this.muted=e,this.updateVolumes()}getMasterVolume(){return this.masterVolume}getBGMVolume(){return this.bgmVolume}getSFXVolume(){return this.sfxVolume}isMuted(){return this.muted}updateVolumes(){let e=this.game.sound.get(this.currentBGMKey||"");if(e){let t=this.muted?0:this.masterVolume*this.bgmVolume;"function"==typeof e.setVolume?e.setVolume(t):e.volume=t}}constructor(e){t(this,"game",void 0),t(this,"currentBGMKey",null),t(this,"masterVolume",1),t(this,"bgmVolume",1),t(this,"sfxVolume",1),t(this,"muted",!1),this.game=e}}t(s,"instance",null)},74123,e=>{"use strict";e.s(["SceneFlow",()=>i]);var t=e.i(99749);function s(e){var t,s;let{width:a,height:i}=e.scale;return null!=(s=null==(t=e.cameras)?void 0:t.main)?s:e.cameras.add(0,0,a,i)}function a(e){return[e>>16&255,e>>8&255,255&e]}class i{static async fadeOut(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s(e),r=null!=(t=n.duration)?t:300,[o,l,m]=a(null!=(i=n.color)?i:0);await new Promise(e=>{u.once("camerafadeoutcomplete",()=>e()),u.fadeOut(r,o,l,m)})}static async fadeIn(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s(e),r=null!=(t=n.duration)?t:250,[o,l,m]=a(null!=(i=n.color)?i:0);await new Promise(e=>{u.once("camerafadeincomplete",()=>e()),u.fadeIn(r,o,l,m)})}static async startWithFade(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i.busy){i.busy=!0;try{let{duration:a,color:n,data:u}=s;await i.fadeOut(e,{duration:a,color:n}),e.scene.start(t,u);let r=e.scene.get(t);r&&await i.fadeIn(r,{duration:Math.max(200,null!=a?a:0),color:n})}finally{i.busy=!1}}}static async switchWithFade(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i.busy){i.busy=!0;try{let{duration:a=300,color:n,data:u,minLoadingMs:r=0}=s;if(!e.cameras)return void e.scene.switch(t,u);await i.fadeOut(e,{duration:a,color:n}),e.scene.switch(t,u),await i.sleep(1);let o=e.scene.get(t),l=performance.now(),m=Math.max(0,(null!=r?r:0)-(performance.now()-l));m>0&&await i.sleep(m),o&&await i.fadeIn(o,{duration:Math.max(200,a-50),color:n})}finally{i.busy=!1}}}static async restartWithFade(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i.busy){i.busy=!0;try{let{duration:s=300,color:a,data:n,minLoadingMs:u=0}=t;if(!e.cameras)return void e.scene.restart(n);await i.fadeOut(e,{duration:s,color:a}),e.scene.restart(n),await i.sleep(1);let r=e.scene.key,o=e.scene.get(r),l=performance.now(),m=Math.max(0,(null!=u?u:0)-(performance.now()-l));m>0&&await i.sleep(m),o&&await i.fadeIn(o,{duration:Math.max(200,s-50),color:a})}finally{i.busy=!1}}}static pause(e){e.scene.isPaused()||e.scene.pause()}static resume(e){e.scene.isPaused()&&e.scene.resume()}static sleep(e){return new Promise(t=>setTimeout(t,e))}}(0,t._)(i,"busy",!1)},16363,e=>{"use strict";e.s(["MainScene",()=>i]);var t=e.i(33901),s=e.i(74123),a=e.i(68626);class i extends t.Scene{async create(){let e,i;a.AudioManager.getInstance(this.game).playBGM("audio.bgm.Main"),this.cameras.main.setRoundPixels(!0);let{width:n,height:u}=this.scale;if(this.textures.exists("ui.GameTitle")&&this.add.image(.5*n,50,"ui.GameTitle").setOrigin(.5,0),this.textures.exists("ui.MainWindow")&&this.add.image(0,0,"ui.MainWindow").setOrigin(0),this.textures.exists("ui.StartButton")){let i=this.add.image(.5*n,u-86,"ui.StartButton").setOrigin(.5,1).setInteractive({useHandCursor:!0});i.setAlpha(0),e=i,i.on("pointerover",()=>{this.tweens.add({targets:i,y:i.y-1,duration:50,ease:"Sine.easeOut"})}),i.on("pointerout",()=>{this.tweens.add({targets:i,y:i.y+1,duration:50,ease:"Sine.easeOut"})}),i.on(t.Input.Events.POINTER_DOWN,()=>{a.AudioManager.getInstance(this.game).playSFX("audio.sfx.ui.StartButtonClick"),s.SceneFlow.startWithFade(this,"game",{duration:500})})}if(this.textures.exists("ui.SettingsButton")){let e=this.add.image(.5*n,u-50,"ui.SettingsButton").setOrigin(.5,1).setInteractive({useHandCursor:!0});e.setAlpha(0),i=e,e.on("pointerover",()=>{this.tweens.add({targets:e,y:e.y-1,duration:50,ease:"Sine.easeOut"})}),e.on("pointerout",()=>{this.tweens.add({targets:e,y:e.y+1,duration:50,ease:"Sine.easeOut"})}),e.on(t.Input.Events.POINTER_DOWN,()=>{this.scene.launch("settings")})}await new Promise(e=>setTimeout(e,300)),this.tweens.add({targets:[e,i],alpha:1,duration:500,ease:"Sine.easeOut"})}constructor(){super("main")}}}]);