(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,68626,t=>{"use strict";function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}t.s(["_",()=>e],99749),t.s(["AudioManager",()=>i],68626);class i{static getInstance(t){return i.instance||(i.instance=new i(t)),i.instance}playBGM(t){this.currentBGMKey&&this.currentBGMKey===t||(this.game.sound.play(t,{loop:!0,volume:this.muted?0:this.masterVolume*this.bgmVolume}),this.currentBGMKey=t)}playSFX(t){this.game.sound.play(t,{volume:this.muted?0:this.masterVolume*this.sfxVolume})}setMasterVolume(t){this.masterVolume=t,this.updateVolumes()}setBGMVolume(t){this.bgmVolume=t,this.updateVolumes()}setSFXVolume(t){this.sfxVolume=t}setMuted(t){this.muted=t,this.updateVolumes()}getMasterVolume(){return this.masterVolume}getBGMVolume(){return this.bgmVolume}getSFXVolume(){return this.sfxVolume}isMuted(){return this.muted}updateVolumes(){let t=this.game.sound.get(this.currentBGMKey||"");if(t){let e=this.muted?0:this.masterVolume*this.bgmVolume;"function"==typeof t.setVolume?t.setVolume(e):t.volume=e}}constructor(t){e(this,"game",void 0),e(this,"currentBGMKey",null),e(this,"masterVolume",1),e(this,"bgmVolume",1),e(this,"sfxVolume",1),e(this,"muted",!1),this.game=t}}e(i,"instance",null)},93605,t=>{"use strict";t.s(["Config",()=>e]);let e={resolution:{width:320,height:256},pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},splash:{bgColor:"#FFFFFF",showDelayStartMs:800,logoPath:"/ui/splash/studio-logo.png",logoMaxWidthRatio:.6,logoMaxWidthCap:256,titleImagePath:"/ui/splash/studio-title.png",titleMaxWidthRatio:.6,titleMaxWidthCap:256,spacing:0,logoSlideMs:1e3,titleFadeMs:1e3,alphaDurationMs:1e3,easeAlpha:"Sine.easeOut",easeMove:"Sine.easeOut",showDelayEndMs:4e3,fadeOutMs:500},main:{titleImagePath:"/ui/main/game-title.jpg",titleMaxWidthRatio:.7,titleMaxWidthCap:360,startButtonPath:"/ui/main/btn-start.png",settingsButtonPath:"/ui/main/btn-setting.png",buttonMaxWidthRatio:.3,buttonMaxWidthCap:280,hoverTint:0xffffaa}}},74123,t=>{"use strict";t.s(["SceneFlow",()=>s]);var e=t.i(99749);function i(t){var e,i;let{width:a,height:s}=t.scale;return null!=(i=null==(e=t.cameras)?void 0:e.main)?i:t.cameras.add(0,0,a,s)}function a(t){return[t>>16&255,t>>8&255,255&t]}class s{static async fadeOut(t){var e,s;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(t),u=null!=(e=o.duration)?e:300,[l,r,d]=a(null!=(s=o.color)?s:0);await new Promise(t=>{n.once("camerafadeoutcomplete",()=>t()),n.fadeOut(u,l,r,d)})}static async fadeIn(t){var e,s;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(t),u=null!=(e=o.duration)?e:250,[l,r,d]=a(null!=(s=o.color)?s:0);await new Promise(t=>{n.once("camerafadeincomplete",()=>t()),n.fadeIn(u,l,r,d)})}static async startWithFade(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s.busy){s.busy=!0;try{let{duration:a,color:o,data:n}=i;await s.fadeOut(t,{duration:a,color:o}),t.scene.start(e,n);let u=t.scene.get(e);u&&await s.fadeIn(u,{duration:Math.max(200,null!=a?a:0),color:o})}finally{s.busy=!1}}}static async switchWithFade(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s.busy){s.busy=!0;try{let{duration:a=300,color:o,data:n,minLoadingMs:u=0}=i;if(!t.cameras)return void t.scene.switch(e,n);await s.fadeOut(t,{duration:a,color:o}),t.scene.switch(e,n),await s.sleep(1);let l=t.scene.get(e),r=performance.now(),d=Math.max(0,(null!=u?u:0)-(performance.now()-r));d>0&&await s.sleep(d),l&&await s.fadeIn(l,{duration:Math.max(200,a-50),color:o})}finally{s.busy=!1}}}static async restartWithFade(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s.busy){s.busy=!0;try{let{duration:i=300,color:a,data:o,minLoadingMs:n=0}=e;if(!t.cameras)return void t.scene.restart(o);await s.fadeOut(t,{duration:i,color:a}),t.scene.restart(o),await s.sleep(1);let u=t.scene.key,l=t.scene.get(u),r=performance.now(),d=Math.max(0,(null!=n?n:0)-(performance.now()-r));d>0&&await s.sleep(d),l&&await s.fadeIn(l,{duration:Math.max(200,i-50),color:a})}finally{s.busy=!1}}}static pause(t){t.scene.isPaused()||t.scene.pause()}static resume(t){t.scene.isPaused()&&t.scene.resume()}static sleep(t){return new Promise(e=>setTimeout(e,t))}}(0,e._)(s,"busy",!1)},36770,t=>{"use strict";t.s(["SplashScene",()=>o]);var e=t.i(33901),i=t.i(93605),a=t.i(74123),s=t.i(68626);class o extends e.Scene{preload(){this.textures.exists("ui.font")||this.load.bitmapFont("ui.font","/font/font.png","/font/font.fnt"),this.textures.exists("ui.StudioLogo")||this.load.image("ui.StudioLogo","/ui/StudioLogo.png"),this.textures.exists("ui.StudioTitle")||this.load.image("ui.StudioTitle","/ui/StudioTitle.png"),this.textures.exists("ui.GameTitle")||this.load.image("ui.GameTitle","/ui/GameTitle.png"),this.textures.exists("ui.StartButton")||this.load.image("ui.StartButton","/ui/StartButton.png"),this.textures.exists("ui.SettingsButton")||this.load.image("ui.SettingsButton","/ui/SettingButton.png"),this.textures.exists("ui.MainWindow")||this.load.image("ui.MainWindow","/ui/MainWindow.png"),this.textures.exists("ui.ClickToStartText")||this.load.image("ui.ClickToStartText","/ui/ClickToStartText.png"),this.textures.exists("audio.bgm.Main")||this.load.audio("audio.bgm.Main","/audio/bgm/Main.ogg"),this.textures.exists("audio.sfx.ui.StartButtonClick")||this.load.audio("audio.sfx.ui.StartButtonClick","/audio/sfx/ui/StartButtonClick.mp3"),this.textures.exists("audio.sfx.ui.UiButtonClick")||this.load.audio("audio.sfx.ui.UiButtonClick","/audio/sfx/ui/UiButtonClick.mp3")}async create(){var t,e,o,n,u;let l,r,d,h=this.cameras.main;h.setBackgroundColor("#FFFFFF"),h.setRoundPixels(!0);let{width:m,height:g}=this.scale,c=this.add.container(.5*m,.5*g);if(this.textures.exists("ui.StudioLogo")){let a=this.add.image(0,-3,"ui.StudioLogo").setOrigin(.5).setScrollFactor(0),s=Math.min(i.Config.resolution.width*(null!=(t=i.Config.splash.logoMaxWidthRatio)?t:.6),null!=(e=i.Config.splash.logoMaxWidthCap)?e:256);if(a.width>0&&a.width>s){let t=a.height/a.width;a.setDisplaySize(s,Math.round(s*t))}l=a,c.add(l),l.setAlpha(0).setScale(1)}if(this.textures.exists("ui.StudioTitle")){let t=this.add.image(0,0,"ui.StudioTitle").setOrigin(.5),e=Math.min(i.Config.resolution.width*(null!=(o=i.Config.splash.titleMaxWidthRatio)?o:.6),null!=(n=i.Config.splash.titleMaxWidthCap)?n:256);if(t.width>0&&t.width>e){let i=t.height/t.width;t.setDisplaySize(e,Math.round(e*i))}t.setAlpha(0),c.add(t),r=t}let p=this.add.container(.5*m,.5*g);if(this.textures.exists("ui.GameTitle")){let t=this.add.image(0,-(.5*g)+50,"ui.GameTitle").setOrigin(.5,0);p.add(t)}{let t=this.add.image(0,.5*g-60,"ui.ClickToStartText").setOrigin(.5,1).setTintFill(0xffffff);p.add(t),d=t}if(this.textures.exists("ui.MainWindow")){let t=this.add.image(-.5*m,-.5*g,"ui.MainWindow").setOrigin(0);p.add(t)}p.setAlpha(0);let f=null!=(u=i.Config.splash.spacing)?u:12,x=l?l.displayWidth:0,w=r?r.displayWidth:0,M=x+(x>0&&w>0?f:0)+w,y=x>0?-M/2+x/2:0;if(l&&(l.x=0),r&&(r.x=w>0?M/2-w/2:0),await new Promise(t=>setTimeout(t,i.Config.splash.showDelayStartMs)),l&&r){let t,e,a;await (t=l,new Promise(e=>{var a;this.tweens.add({targets:t,alpha:1,duration:null!=(a=i.Config.splash.titleFadeMs)?a:320,ease:i.Config.splash.easeAlpha,onComplete:()=>e()})})),await (e=l,new Promise(t=>{var a;this.tweens.add({targets:e,x:y,duration:null!=(a=i.Config.splash.logoSlideMs)?a:320,ease:i.Config.splash.easeMove,onComplete:()=>t()})})),await (a=r,new Promise(t=>{if(r){var e;this.tweens.add({targets:a,alpha:1,duration:null!=(e=i.Config.splash.titleFadeMs)?e:320,ease:i.Config.splash.easeAlpha,onComplete:()=>t()})}else t()}))}await new Promise(t=>setTimeout(t,1e3)),await a.SceneFlow.fadeOut(this,{duration:500}),h.setBackgroundColor("#0b0b53"),c.destroy(),p.setAlpha(1),await a.SceneFlow.fadeIn(this,{duration:500});let S=this.tweens.add({targets:d,alpha:0,duration:500,ease:"Sine.easeInOut",yoyo:!0,repeat:-1});this.input.once("pointerdown",()=>{s.AudioManager.getInstance(this.game).playSFX("audio.sfx.ui.StartButtonClick"),this.input.enabled=!1,S.stop(),null==d||d.setAlpha(1),this.tweens.add({targets:d,alpha:0,duration:100,yoyo:!0,repeat:2,ease:"Sine.easeInOut",onComplete:()=>{this.scene.start("main")}})})}shutdown(){this.textures.remove("studio-logo"),this.textures.remove("studio-title")}constructor(){super("splash")}}}]);